\documentclass[12pt,a4paper,french]{article}

\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{fullpage}
\usepackage[french]{babel} 
\usepackage[official]{eurosym}
\usepackage{txfonts}
\usepackage{graphicx}
\usepackage{lastpage}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{color}
\usepackage{setspace}
\usepackage[nottoc, notlof, notlot]{tocbibind}
\usepackage{hyperref}

% Création de la subsubsubsection %
\titleclass{\subsubsubsection}{straight}[\subsection]
\newcounter{subsubsubsection}
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}}
\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}%
  {3.25ex \@plus1ex \@minus.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}


\begin{document}

\section*{Cahier des charges}
\subsection*{Mise en contexte du problème}
Ce projet a pour but la réalisation d'une application de production d'un emploi du temps, et ainsi de faciliter le travail de M. Maeso. En effet, chaque année, il doit créer manuellement l'intégralité des emplois du temps de l'école, en tenant compte de toutes les contraintes de disponibilités des professeurs, des salles, des élèves, etc.\\

Mais ce problème peut être généralisé à toutes les planifications horaires d'employés, comme dans les écoles, les hôpitaux et toutes autres entreprises ayant un roulement de personnel à organiser.\\

La planification sous contraintes est la discipline des mathématiques appliquées consistant à ordonner diverses séquences ou évènements dans un espace-temps limité. Ces planifications impliquent un grand nombre de contraintes, qu'elles soient liées aux disponibilités de personnes, d'emplacements ou à tous autres problèmes divers et variés.\\

La réalisation d'une planification est à la fois longue et périlleuse. Il est très difficile de concilier l'ensemble des contraintes qui accompagnent cet ordonnancement et de pouvoir organiser cela de manière optimale. La mise en place d'un calendrier est souvent faite à la main ou de manière approximative avec d'autres applications.\\

L'objectif de ce projet est donc de réaliser une application, permettant de générer une planification tenant compte de toutes les contraintes que l'on aura indiquées au préalable. Dans un premier temps, nous nous contenterons de générer un emploi du temps propre à l'école, quitte à élargir notre champ d'action si nous en avons le temps.

\subsection*{Langage utilisé}
Nous allons programmer ce projet en C++. En effet celui-ci est un langage objet et nous aideras à mieux organiser notre code grâce aux classes, au polymorphisme, la redéfinition et l'héritage. De plus, il s'agit du langage que nous avons le plus pratiqué durant notre cursus.

\subsection*{Les données d'entrée du problème}
\subsubsection*{Les professeurs}
Les professeurs vont être définis par:
\begin{itemize}
\item un nom
\item des disponibilités
\item la liste des cours qu'ils peuvent enseigner
\end{itemize}

\subsubsection*{Les classes}
Les classes vont être définies par:
\begin{itemize}
\item un nom
\item un nombre d'élève
\item la liste des cours qu'elle va suivre
\end{itemize}

\subsubsection*{Les cours}
Les cours vont être définis par:
\begin{itemize}
\item un nom
\item un nombre d'heure de cours
\item un type de salle dans laquelle il doit être donné
\end{itemize}

\subsubsection*{Les salles}
Les salles sont définies par:
\begin{itemize}
\item un nom
\item un nombre de place
\item un type à savoir, une salle de cours, une salle de TP spécifique
\end{itemize}

\subsection*{Les données en sortie du problème}
En sortie nous allons avoir les emplois du temps de tous les professeurs, de toutes les classes et de toutes les salles.

\newpage
\section*{Les acteurs}		
Il existe deux principaux types d'acteur pour notre logiciel:

\subsection*{Premier acteur : Saisie des données}
Le rôle du premier acteur est de saisir toutes les données relatives aux professeurs, salles, et  élèves, et tous les paramètres nécessaires à une première simulation de l'emploi du temps.
		
\subsection*{Second acteur : Maintenance de l'emploi du temps}
Etablir un emploi du temps est une bonne chose, mais il faut  également pouvoir le modifier au cours de l'année si des évènements imprévus doivent être rajoutés.
Le rôle du deuxième acteur est donc de gérer la maintenance de l'emploi du temps au fur et à mesure que l'année avance. Il doit pouvoir rajouter des évènements dans l'emploi du temps des professeurs et/ou des élèves.

\newpage
\section*{Cas d'utilisation}
\subsection*{Génération de l'emploi du temps}	
\begin{figure}[! ht ]
	\centering
	\begin{minipage}[t]{14 cm}
		\centering
			\fbox{
				\includegraphics[width=140mm, height=140mm]{CasUtilisation1.png}
			}
		\caption {Diagramme cas d'utilisation, génération de l'emploi du temps}
	\end{minipage}
\end{figure}
			
\subsubsection*{Objectif}
L'objectif est de créer un emploi du temps à partir de données brutes entrées par l'utilisateur.

\subsubsection*{Acteurs}
L'acteur est celui qui est chargé de la saisie des données.
		
\subsubsection*{Données échangées et description des enchaînements}	
L'acteur en question entre les différentes données propres aux professeurs, classes, salles, et matières. Pour chaque élément, il devra remplir des critères bien spécifiques:

\begin{itemize}
\item Pour chaque professeur, il doit entrer les matières que celui-ci enseigne et ses disponibilités dans la semaine. 
\item Pour chaque promotion, il doit entrer le programme qui devra être dispensé au cours de l'année (matières et nombre d'heures).
\item Pour chaque classe, il doit préciser la promotion à laquelle elle appartient.
\item Pour chaque salle, il doit entrer leur contenance et leur type (salle de TP info, salle de cours, etc...)
\end{itemize}
					
Une fois que toutes les données ont été entrées, le logiciel génère automatiquement tous les emplois du temps de l'école. 
		
\newpage
\subsection*{Maintenance de l'emploi du temps}	
\begin{figure}[! ht ]
	\centering
	\begin{minipage}[t]{14 cm}
		\centering
		\fbox{
			\includegraphics[width=140mm, height=80mm]{CasUtilisation2.png}
		}
		\caption {Diagramme cas d'utilisation, maintenance de l'emploi du temps}
	\end{minipage}
\end{figure}
			
\subsubsection*{Objectif}
Pour une raison ou pour une autre, l'utilisateur peut être amené à rajouter un évènement dans l'emploi du temps. Le logiciel doit donc le permettre en tenant  compte des évènements déjà placés et des contraintes que cela implique, sans avoir à générer à nouveau tout l'emploi du temps. 
				
\subsubsection*{Acteurs}
Le seul acteur à intervenir dans ce cas est celui chargé de la maintenance.
			
\subsubsection*{Données échangées}
Pour placer un cours dans l'emploi du temps, le programme devra consulter les disponibilités de chaque élément:

\begin{itemize}
\item	Les disponibilités des professeurs ou des intervenants
\item Les disponibilités des élèves
\item Les disponibilités d'une salle convenant à l'évènement, et dont la capacité est suffisante pour accueillir tous les élèves.
\end{itemize}
				
\subsubsection*{Description des enchaînements}		
\subsubsubsection*{Pré-condition}
Lorsque l'utilisateur voudra rajouter un évènement, il lui faudra connaître les disponibilités de chacune des entités concernées. Il devra également savoir quelles classes sont concernées par l'évènement, si elles doivent recevoir l'évènement par classe ou par promo, etc...

\subsubsubsection*{Séquence}
L'utilisateur entre les disponibilités de chacun dans le programme, et celui-ci va chercher les différents créneaux possibles pour placer le cours. L'utilisateur aura alors deux possibilités : soit il laisse le programme placer automatiquement le cours, soit il demandera au programme d'afficher la liste des créneaux disponibles afin de placer manuellement le cours. Celui-ci n'aura qu'à choisir le créneau qui lui semble le plus adapté.

\newpage
\section*{Organisation des données}
Nous avons défini la semaine sur 22 créneaux de 2 heures chacun. Avec 2 créneaux le matin et 2 l'après-midi du lundi au samedi matin.

\subsection*{Les professeurs}
Les disponibilités du professeurs vont être représenté par un mot binaire de 22 bits. 1 représentant une disponibilité et 0 une indisponibilité.
Chacune de ces disponibilités vont être liés à une semaine.

Pour une semaine donnée, lorsque nous ajoutons un cours à un professeur, ses disponibilités changent et cela aura pour conséquence de modifier le mot binaire en faisant passer un bit à 0.

Chaque professeur aura une liste de cours qu'il sera susceptible de dispenser.

\subsection*{Les classes}
Chaque classe va avoir une liste de semaines associée. Celles-ci vont être définies par un numéro définissant leur ordre dans l'année, et 22 créneaux assignés que l'on devra remplir avec les cours planifiés à la classe.

Chaque classe aura une liste de cours qu'elle devra obligatoirement suivre.

\newpage
\section*{Méthode de résolution}
\subsection*{Pré-traitement}
Nous effectuons un pré-traitement pour éviter des calculs qui n'aboutiront pas.
Nous comparons le nombre de cours qui doivent être donnés par matière sur une semaine toutes classes confondues, avec le nombre de créneaux disponibles pour l'ensemble des profs donnant cette matière.
\begin{itemize}
\item Si le nombre de créneaux total des professeurs est supérieur au nombre de créneaux du cours alors il n'y a pas de pré-traitement à effectuer pour ce cours.
\item Si le nombre de créneaux total des professeurs est égal au nombre de créneaux du cours alors on peut directement associer les classes aux créneaux du ou des professeurs
\item Si le nombre de créneaux total des professeurs est inférieur au nombre de créneaux du cours alors nous ne pouvons pas aboutir à une solution. Il faut donc ajouter des professeurs ou des créneaux.
\end{itemize}

\subsection*{Traitement}
Dans un premier temps, on trie les professeurs de manière croissante par rapport à leurs disponibilités. Ensuite, nous remplissons de manière gloutonne les emplois du temps, c'est-à-dire qu'on place le cours sur le premier créneau libre.


\end{document}